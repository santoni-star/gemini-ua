# Стратегія перевірки якості релізу

Цей документ описує стратегію перевірки якості кожного релізу Gemini CLI. Він
слугує чек-листом для реліз-менеджера, щоб гарантувати випуск якісного продукту.

## Мета

Впевнено відповісти на запитання: "Чи справді цей реліз готовий для наших
користувачів?", ґрунтуючись на автоматичних сигналах, ручній перевірці та даних.

## Рівень 1: Автоматичні перевірки (обов'язково)

Це базові вимоги. Якщо будь-яка з них не виконується — реліз не випускається.

### 1. Стан CI/CD

Усі процеси в `.github/workflows/ci.yml` мають бути "зеленими" (пройденими) для
гілки `main` (нічні збірки) або релізної гілки.

- **Платформи:** Тести мають проходити на **Linux та macOS**.
- **Перевірки:** Лінтер (ESLint, Prettier), типізація (TypeScript), юніт-тести
  та збірка проекту.

### 2. End-to-end (E2E) тести

Усі процеси в `.github/workflows/chained_e2e.yml` мають бути пройденими на
Linux, macOS та Windows.

### 3. Smoke-тести після деплою

Після публікації в npm запускається `smoke-test.yml`. Команда
`npx -y @google/gemini-cli@<tag> --version` має повернути правильну версію без
помилок.

## Рівень 2: Ручна перевірка та внутрішнє тестування

Автоматичні тести не можуть зловити все, особливо проблеми зі зручністю (UX).

### 1. Використання `preview` версії

Тижневий цикл релізів передбачає, що код знаходиться у каналі `preview`
принаймні **один тиждень** перед переходом у `stable`. Розробники мають
використовувати цю версію у своїй щоденній роботі.

### 2. Чек-лист критичних сценаріїв (CUJ)

Реліз-менеджер має вручну перевірити:

- [ ] **Аутентифікація:** Команда `/auth` (Вхід через Google, Ключ API, Vertex
      AI).
- [ ] **Базові запити:** Простий промпт та уточнююче запитання (тест контексту).
- [ ] **Ввід через конвеєр:** `echo "текст" | gemini`.
- [ ] **Керування контекстом:** Використання `@файл` у чаті.
- [ ] **Налаштування:** Зміна параметрів через `/settings`.
- [ ] **Виклик інструментів:** Наприклад, "створи файл hello.md з текстом
      'привіт'".

## Рівень 3: Телеметрія та дані

- **Здоров'я панелі керування:** Перевірка відсутності стрибків помилок у новій
  версії.
- **Оцінка моделей:** Порівняння результатів оцінки (evaluation) з середніми
  показниками попередніх версій.

## Рішення про випуск (Go/No-Go)

Перед просуванням версії з `preview` у `stable`:

1. Рівень 1 (Автоматизація) пройдено.
2. Рівень 2 (Ручна перевірка) пройдено, критичних багів не виявлено.
3. Рівень 3 (Дані) показує стабільність без регресій.
