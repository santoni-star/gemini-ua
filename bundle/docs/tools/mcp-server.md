# Сервери MCP у Gemini CLI

Цей документ містить посібник із налаштування та використання серверів Model
Context Protocol (MCP) у Gemini CLI.

## Що таке сервер MCP?

Сервер MCP — це програма, яка надає інструменти та ресурси для Gemini CLI через
протокол Model Context Protocol. Це дозволяє ШІ взаємодіяти із зовнішніми
системами, базами даних, API або вашими власними скриптами.

Сервер MCP дозволяє Gemini CLI:

- **Виявляти інструменти:** Отримувати список доступних функцій та їхніх описів.
- **Виконувати інструменти:** Викликати функції з аргументами та отримувати
  результат.
- **Доступ до ресурсів:** Читати дані (файли, звіти тощо), які надає сервер.

## Як налаштувати сервер MCP

Gemini CLI використовує параметр `mcpServers` у файлі `settings.json` для
підключення до серверів.

### Налаштування в settings.json

Ви можете додати сервери вручну у свій файл налаштувань:

```json
{
  "mcpServers": {
    "назваСервера": {
      "command": "шлях/до/програми",
      "args": ["--параметр", "значення"],
      "env": {
        "API_KEY": "$MY_TOKEN"
      },
      "timeout": 30000,
      "trust": false
    }
  }
}
```

### Типи підключення (Transport)

Gemini CLI підтримує три типи транспорту для MCP:

- **Stdio:** Запуск локального підпроцесу (через stdin/stdout).
- **SSE:** Підключення через Server-Sent Events (для віддалених серверів).
- **Streamable HTTP:** Використання HTTP-потоків.

## Робота з ресурсами MCP

Деякі сервери надають "ресурси" (дані). Ви можете звертатися до них за допомогою
синтаксису `@`:

```text
@server://resource/path
```

## Керування серверами через команду `gemini-ua mcp`

Ви можете керувати серверами безпосередньо з терміналу, не редагуючи JSON
вручну.

### Додавання сервера (`mcp add`)

```bash
# Додавання локального сервера
gemini-ua mcp add my-server python server.py

# Додавання віддаленого HTTP-сервера
gemini-ua mcp add --transport http web-tools https://api.example.com/mcp/
```

### Список серверів (`mcp list`)

Показує всі налаштовані сервери та їхній статус (підключено/відключено).

```bash
gemini-ua mcp list
```

### Видалення сервера (`mcp remove`)

```bash
gemini-ua mcp remove my-server
```

## Перегляд статусу в CLI

Використовуйте команду `/mcp` всередині інтерактивної сесії, щоб побачити
детальну інформацію про всі підключені сервери, доступні інструменти та ресурси.

## Безпека

- **Опція `trust`**: Якщо встановлено `true`, CLI не запитуватиме підтвердження
  для виклику інструментів із цього сервера. Використовуйте лише для перевірених
  джерел.
- **Аутентифікація**: Підтримується OAuth 2.0 для віддалених серверів.
  Використовуйте `/mcp auth`, щоб увійти.
