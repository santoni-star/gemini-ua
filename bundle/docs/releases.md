# Релізи Gemini CLI

## Середовища розробки та продуктиву (dev vs prod)

Наші процеси релізу підтримують два типи середовищ:

- **dev**: Публікує пакети у приватний NPM-репозиторій на GitHub під префіксом
  `@google-gemini/**`.
- **prod**: Публікує у публічний NPM-реєстр під префіксом `@google/**`.

## Цикл релізів та теги

Ми дотримуємося [SemVer](https://semver.org/). Щовівторка близько 20:00 UTC
випускаються нові стабільні та попередні версії.

- **Код з main** щоночі потрапляє у `nightly`.
- Через тиждень код з main переходить у канал `preview`.
- Ще через тиждень `preview` стає `stable`.

### Preview (Попередній перегляд)

Ці версії можуть містити помилки. Використовуйте для тестування нових функцій.

```bash
npm install -g @google/gemini-cli@preview
```

### Stable (Стабільна версія)

Повністю протестована версія. Використовуйте тег `latest`.

```bash
npm install -g @google/gemini-cli@latest
```

### Nightly (Нічні збірки)

Усі зміни за останню добу. Можуть бути нестабільними.

```bash
npm install -g @google/gemini-cli@nightly
```

## Ручні релізи

Якщо потрібно випустити версію поза графіком, розробники використовують workflow
`Release: Manual` у вкладці Actions на GitHub.

## Патчі (Patching)

Для термінового виправлення критичних багів використовується автоматизований
процес через коментар `/patch` у відповідному Pull Request.

## Перевірка релізу

Після випуску нової версії рекомендується провести smoke-тестування:

- Перевірити версію: `npx -y @google/gemini-cli@latest --version`.
- Виконати кілька базових команд та викликів інструментів.

## Деталі процесу релізу

Процес створення релізу складається з 4 етапів:

1. **Перевірка:** Запуск тестів та лінтера.
2. **Збірка для NPM:** Компіляція TypeScript у JavaScript (`packages/*/dist`).
3. **Публікація в NPM:** Відправка пакунків до реєстру.
4. **Створення бандла для GitHub:** Об'єднання всього коду в один файл
   `gemini.js` для зручного запуску через `npx` без встановлення.
