# Довірені папки (Trusted Folders)

Функція "Довірені папки" — це налаштування безпеки, яке дає вам контроль над
тим, які проекти можуть використовувати повні можливості Gemini CLI. Вона
запобігає виконанню потенційно шкідливого коду, запитуючи ваше схвалення папки
перед тим, як CLI завантажить будь-які специфічні для проекту конфігурації з
неї.

## Увімкнення функції

Функція "Довірені папки" **вимкнена за замовчуванням**. Щоб скористатися нею, ви
повинні спочатку увімкнути її в налаштуваннях.

Додайте наступне до вашого файлу `settings.json` користувача:

```json
{
  "security": {
    "folderTrust": {
      "enabled": true
    }
  }
}
```

## Як це працює: Діалог довіри

Після увімкнення функції, при першому запуску Gemini CLI з нової папки
автоматично з'явиться діалогове вікно з пропозицією зробити вибір:

- **Trust folder (Довіряти папці)**: Надає повну довіру поточній папці
  (наприклад, `my-project`).
- **Trust parent folder (Довіряти батьківській папці)**: Надає довіру
  батьківському каталогу (наприклад, `safe-projects`), що автоматично робить
  довіреними і всі його підкаталоги. Це корисно, якщо ви тримаєте всі свої
  безпечні проекти в одному місці.
- **Don't trust (Не довіряти)**: Позначає папку як недовірену. CLI працюватиме в
  обмеженому "безпечному режимі".

Ваш вибір зберігається в центральному файлі (`~/.gemini/trustedFolders.json`),
тому запитання з'явиться лише один раз для кожної папки.

## Чому довіра важлива: Наслідки недовіреного робочого простору

Коли папка є **недовіреною**, Gemini CLI запускається в обмеженому "безпечному
режимі", щоб захистити вас. У цьому режимі вимкнено наступні можливості:

1.  **Налаштування робочого простору ігноруються**: CLI **не** завантажуватиме
    файл `.gemini/settings.json` з проекту. Це запобігає завантаженню власних
    інструментів та інших потенційно небезпечних конфігурацій.

2.  **Змінні середовища ігноруються**: CLI **не** завантажуватиме файли `.env` з
    проекту.

3.  **Керування розширеннями обмежено**: Ви **не можете встановлювати,
    оновлювати або видаляти** розширення.

4.  **Автоматичне прийняття інструментів вимкнено**: Вас завжди запитуватимуть
    перед запуском будь-якого інструменту, навіть якщо автоприйняття увімкнено
    глобально.

5.  **Автоматичне завантаження пам'яті вимкнено**: CLI не буде автоматично
    завантажувати файли в контекст із каталогів, указаних у локальних
    налаштуваннях.

6.  **Сервери MCP не підключаються**: CLI не намагатиметься підключитися до
    жодного сервера [Model Context Protocol (MCP)](../tools/mcp-server.md).

7.  **Власні команди не завантажуються**: CLI не завантажуватиме власні команди
    з файлів .toml, включаючи як специфічні для проекту, так і глобальні команди
    користувача.

Надання довіри папці відкриває повну функціональність Gemini CLI для цього
робочого простору.

## Керування налаштуваннями довіри

Якщо вам потрібно змінити рішення або переглянути всі налаштування, у вас є
кілька варіантів:

- **Змінити довіру до поточної папки**: Запустіть команду `/permissions`
  всередині CLI. Це викличе той самий інтерактивний діалог.

- **Переглянути всі правила довіри**: Щоб побачити повний список усіх правил для
  довірених і недовірених папок, ви можете переглянути вміст файлу
  `~/.gemini/trustedFolders.json` у вашому домашньому каталозі.

## Процес перевірки довіри (для просунутих користувачів)

Корисно знати точний порядок визначення довіри:

1.  **Сигнал довіри IDE**: Якщо ви використовуєте
    [інтеграцію з IDE](../ide-integration/index.md), CLI спочатку запитує IDE,
    чи є робочий простір довіреним. Відповідь IDE має найвищий пріоритет.

2.  **Локальний файл довіри**: Якщо IDE не підключено, CLI перевіряє центральний
    файл `~/.gemini/trustedFolders.json`.
