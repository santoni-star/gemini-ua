# Конфігурація Gemini CLI

Gemini CLI пропонує кілька способів налаштування своєї поведінки, включаючи
змінні середовища, аргументи командного рядка та файли налаштувань. У цьому
документі описано різні методи конфігурації та доступні параметри.

## Рівні конфігурації

Налаштування застосовуються в такому порядку пріоритетності (нижчі номери
перекриваються вищими):

1.  **Значення за замовчуванням:** Жорстко закодовані значення всередині
    програми.
2.  **Файл налаштувань користувача:** Глобальні налаштування для поточного
    користувача.
3.  **Файл налаштувань проекту:** Специфічні налаштування проекту.
4.  **Файл системних налаштувань:** Загальносистемні налаштування.
5.  **Змінні середовища:** Системні змінні або змінні сеансу, які також можуть
    завантажуватися з файлів `.env`.
6.  **Аргументи командного рядка:** Значення, що передаються при запуску CLI.

## Файли налаштувань

Gemini CLI використовує файли `settings.json` для постійної конфігурації. Існує
три місця розташування цих файлів:

- **Файл налаштувань користувача:**
  - **Розташування:** `~/.gemini/settings.json` (де `~` — ваш домашній каталог).
  - **Область дії:** Застосовується до всіх сесій Gemini CLI для поточного
    користувача.
- **Файл налаштувань проекту:**
  - **Розташування:** `.gemini/settings.json` у кореневому каталозі вашого
    проекту.
  - **Область дії:** Застосовується лише при запуску Gemini CLI з цього
    конкретного проекту. Налаштування проекту мають пріоритет над налаштуваннями
    користувача.
- **Файл системних налаштувань:**
  - **Розташування:** `/etc/gemini-cli/settings.json` (Linux),
    `C:\ProgramData\gemini-cli\settings.json` (Windows) або
    `/Library/Application Support/GeminiCli/settings.json` (macOS). Шлях можна
    змінити за допомогою змінної середовища `GEMINI_CLI_SYSTEM_SETTINGS_PATH`.
  - **Область дії:** Застосовується до всіх сесій Gemini CLI в системі для всіх
    користувачів. Системні налаштування перекривають налаштування користувача та
    проекту. Корисно для системних адміністраторів для контролю налаштувань
    користувачів.

**Примітка щодо змінних середовища в налаштуваннях:** Рядкові значення у ваших
файлах `settings.json` можуть посилатися на змінні середовища за допомогою
синтаксису `$VAR_NAME` або `${VAR_NAME}`. Ці змінні будуть автоматично вирішені
при завантаженні налаштувань. Наприклад, якщо у вас є змінна `MY_API_TOKEN`, ви
можете використовувати її так: `"apiKey": "$MY_API_TOKEN"`.

### Каталог `.gemini` у вашому проекті

Окрім файлу налаштувань проекту, каталог `.gemini` може містити інші специфічні
для проекту файли, такі як:

- [Власні профілі пісочниці](#sandboxing) (наприклад,
  `.gemini/sandbox.Dockerfile`).

### Доступні параметри в `settings.json`:

- **`contextFileName`** (рядок або масив рядків):
  - **Опис:** Вказує ім'я файлу для контекстних файлів (наприклад, `GEMINI.md`).
  - **За замовчуванням:** `GEMINI.md`

- **`bugCommand`** (об'єкт):
  - **Опис:** Перевизначає URL за замовчуванням для команди `/bug`.
  - **За замовчуванням:** URL до репозиторію GitHub.

- **`fileFiltering`** (об'єкт):
  - **Опис:** Керує фільтрацією файлів з урахуванням git для команд @ та
    інструментів пошуку.
  - **Параметри:**
    - **`respectGitIgnore`** (boolean): Чи враховувати .gitignore.
    - **`enableRecursiveFileSearch`** (boolean): Чи вмикати рекурсивний пошук.

- **`coreTools`** (масив рядків):
  - **Опис:** Дозволяє вказати список основних інструментів, доступних моделі.
  - **Приклад:** `["ReadFileTool", "GlobTool", "ShellTool(ls)"]`.

- **`excludeTools`** (масив рядків):
  - **Опис:** Список інструментів, які слід виключити.
  - **Примітка щодо безпеки:** Обмеження для `run_shell_command` базуються на
    простому співпадінні рядків і можуть бути обійдені. Це не є надійним
    механізмом безпеки.

- **`autoAccept`** (boolean):
  - **Опис:** Чи приймати автоматично безпечні виклики інструментів (наприклад,
    тільки для читання) без підтвердження.
  - **За замовчуванням:** `false`

- **`theme`** (рядок):
  - **Опис:** Встановлює візуальну [тему](./themes.md).
  - **За замовчуванням:** `"Default"`

- **`vimMode`** (boolean):
  - **Опис:** Вмикає або вимикає режим vim для редагування вводу.

- **`sandbox`** (boolean або рядок):
  - **Опис:** Керує використанням пісочниці. Дивіться [Пісочниця](#sandboxing).

- **`mcpServers`** (об'єкт):
  - **Опис:** Налаштування підключень до серверів Model-Context Protocol (MCP)
    для використання власних інструментів.
  - **Приклад:**
    ```json
    "mcpServers": {
      "myPythonServer": {
        "command": "python",
        "args": ["mcp_server.py"]
      }
    }
    ```

- **`checkpointing`** (об'єкт):
  - **Опис:** Налаштування функції контрольних точок для збереження та
    відновлення стану. Дивіться [Контрольні точки](./checkpointing.md).

- **`preferredEditor`** (рядок):
  - **Опис:** Редактор за замовчуванням для перегляду змін (diff). Типово:
    `vscode`.

- **`telemetry`** (об'єкт):
  - **Опис:** Налаштування збору логів та метрик. Дивіться
    [Телеметрія](./telemetry.md).

- **`usageStatisticsEnabled`** (boolean):
  - **Опис:** Увімкнення або вимкнення збору анонімної статистики використання.

## Змінні середовища та файли `.env`

Змінні середовища — це поширений спосіб налаштування програм, особливо для
конфіденційної інформації, як-от ключі API.

CLI автоматично завантажує змінні з файлу `.env` у такому порядку:

1. `.env` у поточному каталозі.
2. Пошук вгору по дереву каталогів до кореня проекту або домашньої папки.
3. `~/.env` у домашньому каталозі користувача.

- **`GEMINI_API_KEY`** (Обов'язково): Ваш ключ для Gemini API.
- **`GEMINI_MODEL`**: Модель Gemini за замовчуванням.
- **`GEMINI_SANDBOX`**: Альтернатива налаштуванню `sandbox` у `settings.json`.
- **`HTTP_PROXY` / `HTTPS_PROXY`**: Проксі-сервер для вихідних запитів.
- **`GEMINI_SYSTEM_MD`**: Шлях до власного файлу системної підказки.

## Аргументи командного рядка

Аргументи, передані безпосередньо при запуску, мають найвищий пріоритет.

- **`--model`** (**`-m`**): Вказати модель для сесії.
- **`--prompt`** (**`-p`**): Запустити в неінтерактивному режимі з підказкою.
- **`--prompt-interactive`** (**`-i`**): Почати інтерактивну сесію з підказкою.
- **`--sandbox`** (**`-s`**): Увімкнути режим пісочниці.
- **`--debug`** (**`-d`**): Увімкнути режим налагодження.
- **`--yolo`**: Автоматично схвалювати всі виклики інструментів.
- **`--version`**: Показати версію CLI.

## Файли контексту (GEMINI.md)

Файли контексту дозволяють надавати специфічні для проекту інструкції моделі ШІ.
CLI відображає кількість завантажених файлів у футері.

Докладніше про ієрархію та використання дивіться у
[Файли контексту (GEMINI.md)](./gemini-md.md).

## Пісочниця (Sandboxing)

Gemini CLI може виконувати потенційно небезпечні операції у ізольованому
середовищі Docker для захисту вашої системи. За замовчуванням використовується
образ `gemini-cli-sandbox`.

Ви можете створити власний Dockerfile у `.gemini/sandbox.Dockerfile` для
специфічних потреб проекту.

## Статистика використання

Ми збираємо анонімну статистику для покращення Gemini CLI: виклики інструментів,
тривалість запитів до API, конфігурація. Ми **не збираємо** вміст ваших
підказок, відповідей або файлів.

Ви можете вимкнути це, встановивши `"usageStatisticsEnabled": false` у
`settings.json`.
