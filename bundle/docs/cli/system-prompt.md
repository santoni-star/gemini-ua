# Перевизначення системної підказки (GEMINI_SYSTEM_MD)

Базові системні інструкції, які керують поведінкою Gemini CLI, можна повністю
замінити власним файлом Markdown. Ця функція контролюється через змінну
середовища `GEMINI_SYSTEM_MD`.

## Огляд

Змінна `GEMINI_SYSTEM_MD` наказує CLI використовувати зовнішній файл Markdown
для системного промпту, повністю замінюючи вбудований стандарт. Це повна заміна,
а не злиття. Якщо ви використовуєте власний файл, жодна з оригінальних
інструкцій ядра не застосовуватиметься, якщо ви не включите їх самостійно.

Ця функція призначена для просунутих користувачів, яким потрібно забезпечити
сувору поведінку, специфічну для проекту, або створити індивідуальну роль
(persona).

> Порада: Ви можете спочатку експортувати поточний системний промпт у файл,
> переглянути його, а потім вибірково змінити або замінити.

## Як увімкнути

Ви можете встановити змінну середовища тимчасово в оболонці або зберегти її у
файлі `.gemini/.env`.

- **Використання шляху за замовчуванням** (`.gemini/system.md`):
  - `GEMINI_SYSTEM_MD=true` або `GEMINI_SYSTEM_MD=1`
  - CLI зчитує `./.gemini/system.md` відносно поточної папки проекту.

- **Використання власного шляху**:
  - `GEMINI_SYSTEM_MD=/шлях/до/мій-системний.md`
  - Підтримуються відносні та абсолютні шляхи, а також символ `~`.

- **Вимкнення (використання вбудованого промпту)**:
  - `GEMINI_SYSTEM_MD=false` або `GEMINI_SYSTEM_MD=0`, або просто видаліть
    змінну.

Якщо функція увімкнена, але файл не знайдено, CLI видасть помилку:
`missing system prompt file '<path>'`.

## Індикатор у інтерфейсі

Коли `GEMINI_SYSTEM_MD` активна, CLI показує індикатор `|⌐■_■|` над полем вводу,
що сигналізує про режим спеціального системного промпту.

## Експорт стандартного промпту (рекомендовано)

Перед заміною варто подивитися на оригінал, щоб зберегти правила безпеки та
логіку роботи інструментів.

- Записати вбудований промпт у шлях за замовчуванням:
  - `GEMINI_WRITE_SYSTEM_MD=1 gemini-ua`
- Або в інше місце:
  - `GEMINI_WRITE_SYSTEM_MD=~/prompts/DEFAULT_SYSTEM.md gemini-ua`

## Найкращі практики: SYSTEM.md проти GEMINI.md

- **SYSTEM.md (прошивка):**
  - Операційні правила, які не обговорюються: безпека, протоколи використання
    інструментів, підтвердження.
  - Стабільний для різних завдань.
- **GEMINI.md (стратегія):**
  - Роль, цілі, методології та контекст проекту/домену.
  - Змінюється залежно від завдання.

Тримайте SYSTEM.md мінімальним, але повним для безпечної роботи інструментів.
Тримайте GEMINI.md зосередженим на високорівневих вказівках.
