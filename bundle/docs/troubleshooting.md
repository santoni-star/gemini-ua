# Посібник з усунення несправностей

Цей посібник містить рішення для поширених проблем та поради з налагодження.

## Помилки аутентифікації або входу

- **Помилка:
  `You must be a named user on your organization's Gemini Code Assist Standard edition subscription...`**
  - **Причина:** Виникає, якщо встановлені змінні `GOOGLE_CLOUD_PROJECT` або
    `GOOGLE_CLOUD_PROJECT_ID`. Це змушує CLI перевіряти корпоративну підписку.
  - **Рішення:**
    - **Для індивідуальних користувачів:** Видаліть (unset) ці змінні з вашої
      оболонки та файлів `.bashrc`, `.zshrc`, `.env`.
    - **Для корпоративних користувачів:** Зверніться до адміністратора Google
      Cloud для надання прав.

- **Помилка: `Failed to login. Message: Request contains an invalid argument`**
  - **Причина:** Деякі типи акаунтів Google Workspace не можуть активувати
    безкоштовний рівень Code Assist.
  - **Рішення:** Використовуйте ключ API з
    [Google AI Studio](http://aistudio.google.com/app/apikey).

- **Помилка: `UNABLE_TO_GET_ISSUER_CERT_LOCALLY`**
  - **Причина:** Корпоративний фаєрвол перехоплює SSL-трафік.
  - **Рішення:** Встановіть шлях до сертифіката вашої компанії у змінну
    `NODE_EXTRA_CA_CERTS`.

## Поширені повідомлення про помилки

- **Error: Command not found (при спробі запустити `gemini`)**
  - **Рішення:** Переконайтеся, що шлях до бінарних файлів npm додано у ваш
    `PATH`. Спробуйте перевстановити: `npm install -g santoni-star/gemini-ua`.

- **Помилка: "Operation not permitted" або "Permission denied"**
  - **Причина:** Ви намагаєтеся виконати дію, яку забороняє пісочниця
    (наприклад, запис поза папкою проекту).
  - **Рішення:** Дивіться документацію з
    [налаштування пісочниці](./cli/sandbox.md).

- **DEBUG режим не працює з файлу .env проекту**
  - **Причина:** Змінні `DEBUG` та `DEBUG_MODE` ігноруються у файлах `.env`
    проекту для безпеки.
  - **Рішення:** Використовуйте файл `.gemini/.env`.

## Коди виходу (Exit codes)

CLI використовує спеціальні коди для автоматизації:

| Код | Тип помилки                | Опис                                            |
| --- | -------------------------- | ----------------------------------------------- |
| 41  | `FatalAuthenticationError` | Помилка аутентифікації.                         |
| 42  | `FatalInputError`          | Неправильний ввід (лише неінтерактивний режим). |
| 44  | `FatalSandboxError`        | Помилка середовища пісочниці (Docker/Podman).   |
| 52  | `FatalConfigError`         | Помилка у файлі `settings.json`.                |

## Поради з налагодження

- **CLI:** Використовуйте прапорець `--debug` для детального виводу.
- **Ядро (Core):** Перевірте консоль сервера на наявність повідомлень про
  помилки або стек викликів.
- **Інструменти:** Якщо інструмент не працює, спробуйте запустити аналогічну
  команду прямо в терміналі, щоб перевірити права доступу.

## Пошук існуючих проблем

Якщо вашої проблеми немає у списку, пошукайте її в
[Issue tracker на GitHub](https://github.com/google-gemini/gemini-cli/issues).
